import{p as t,H as i,h as s,d as o}from"./p-2dee9951.js";import{v as e}from"./p-dcb5fb35.js";import{T as n,a as h,b as a,c as r,d as c}from"./p-9a4c910d.js";import{c as p}from"./p-24636c53.js";import{g as l}from"./p-c353678b.js";const f='.gov-spin-animation,.gov-pseudo-spin-animation::before{animation:spin 4s linear infinite}@keyframes spin{100%{transform:rotate(360deg)}}@keyframes countdown{to{transform:scaleX(0)}}@keyframes progress{0%{background-position:-200px 0}100%{background-position:calc(200px + 100%) 0}}@keyframes pulse{0%{opacity:1}50%{opacity:0.4}100%{opacity:1}}.gov-tooltip{display:inline-block;border-bottom:1px dashed currentcolor;color:var(--gov-color-primary);cursor:help}.gov-tooltip[icon=""],.gov-tooltip[icon=true i],.gov-tooltip[icon="1"]{border-bottom:0}';const d=t(class t extends i{constructor(){super();this.__registerHost();this.tooltipContentId=undefined;this.tooltipId=undefined;this.variant=n.PRIMARY;this.size=h._M;this.position="right";this.message=undefined;this.identifier=undefined;this.icon=undefined;this.persist=false;this.h=l(this.host);this.tooltipId=p("GovTooltip");this.tooltipContentId=p("GovContentTooltip")}validateVariant(t){e(n,t,c.root)}validateSize(t){e(h,t,c.root)}validatePosition(t){e(r,t,c.root)}componentWillLoad(){this.validateVariant(this.variant);this.validateSize(this.size);this.validatePosition(this.position);this.createContentWrapper();this.registerListeners()}disconnectedCallback(){this.removeContent()}createContentWrapper(){var t;const i=this.host.querySelector(a.root);if(i){this.content=i}else{this.content=document.createElement(a.root);this.content.innerHTML=this.message;this.host.appendChild(this.content)}this.content.setAttribute("id",(t=this.identifier)!==null&&t!==void 0?t:this.tooltipContentId);this.content.setAttribute("parent-id",this.tooltipId);this.content.setAttribute("variant",this.variant);this.content.setAttribute("size",this.size);document.body.appendChild(this.content)}registerListeners(){this.host.addEventListener("click",(t=>{t.preventDefault();this.persist=true;if(this.content){this.content.setAttribute("persist","true")}this.showTooltip()}));this.host.addEventListener("focus",(t=>{t.preventDefault();this.showTooltip()}));this.host.addEventListener("blur",(t=>{t.preventDefault();if(this.persist===false){this.hideTooltip()}}));this.host.addEventListener("mouseenter",(t=>{t.preventDefault();this.showTooltip()}));this.host.addEventListener("mouseleave",(t=>{t.preventDefault();if(this.persist===false){this.hideTooltip()}}))}verifyPositionSpace(){const t=12;const i=window.innerWidth-(window.innerWidth-document.documentElement.clientWidth);const s=this.host.getBoundingClientRect();const o=this.host.offsetWidth;const e=this.host.offsetHeight;const n=this.content.offsetWidth;const h=this.content.offsetHeight;const a={left:s.left+document.documentElement.scrollLeft,top:s.top+document.documentElement.scrollTop};const c=a.left+t+s.width+n<=i;const p=a.left>n;if(this.position===r.LEFT||this.position===r.RIGHT){this.content.style.top=a.top-(h-e)/2+"px";if(c===false&&p===false){this.position=r.TOP;this.content.setAttribute("position",r.TOP)}if(p&&c===false&&this.position===r.RIGHT){this.position=r.LEFT}if(c&&p===false&&this.position===r.LEFT){this.position=r.RIGHT}}if(this.position===r.RIGHT){this.content.setAttribute("position",r.RIGHT);this.content.style.left=a.left+t+s.width+"px"}if(this.position===r.LEFT){this.content.setAttribute("position",r.LEFT);this.content.style.left=a.left-(n+t)+"px"}if(this.position===r.TOP||this.position===r.BOTTOM){if(n>o){let s=a.left-(n-o)/2;const e=s<0;const h=s+n>i;if(e&&h){this.content.style.width="auto";this.content.style.left=t+"px";this.content.style.right=t+"px"}else{if(e){s=t}if(h){s=s-(i-(s+n+t))*-1}this.content.style.left=s+"px"}}else{const t=a.left+(o-n)/2;this.content.style.left=t+"px"}}if(this.position===r.TOP){this.content.setAttribute("position",r.TOP);this.content.style.top=a.top-(h+t)+"px"}if(this.position===r.BOTTOM){this.content.setAttribute("position",r.BOTTOM);this.content.style.top=a.top+(e+t)+"px"}this.content.style.opacity="1"}showTooltip(){if(this.content){this.content.style.opacity="0";this.content.hidden=false;this.content.setAttribute("is-visible","true");requestAnimationFrame((()=>{this.verifyPositionSpace()}))}}hideTooltip(){if(this.content){this.content.setAttribute("is-visible","false");this.content.setAttribute("persist","false");this.content.removeAttribute("style")}}removeContent(){const t=document.getElementById(this.tooltipContentId);if(t){t.remove()}}render(){var t;return s(o,{id:this.tooltipId,class:this.h.classes(c.root),position:this.position},s("span",{role:"button",tabindex:0,"aria-describedby":(t=this.identifier)!==null&&t!==void 0?t:this.tooltipContentId},s("slot",null)))}async show(){this.showTooltip()}async hide(){this.persist=false;this.hideTooltip()}get host(){return this}static get watchers(){return{variant:["validateVariant"],size:["validateSize"],position:["validatePosition"]}}static get style(){return f}},[4,"gov-tooltip",{variant:[1],size:[1],position:[1025],message:[1],identifier:[1],icon:[516],persist:[32],show:[64],hide:[64]}]);function u(){if(typeof customElements==="undefined"){return}const t=["gov-tooltip"];t.forEach((t=>{switch(t){case"gov-tooltip":if(!customElements.get(t)){customElements.define(t,d)}break}}))}u();const m=d;const v=u;export{m as GovTooltip,v as defineCustomElement};
//# sourceMappingURL=gov-tooltip.js.map