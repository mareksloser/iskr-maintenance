{"version":3,"file":"wcag.js","sourceRoot":"","sources":["../../../../../../src/helpers/Validate/wcag.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAA;AAC9C,OAAO,EAAE,iBAAiB,EAAE,MAAM,0BAA0B,CAAA;AAC5D,OAAO,EAAE,YAAY,EAAE,MAAM,YAAY,CAAA;AAEzC,MAAM,CAAC,MAAM,gBAAgB,GAAG,CAAC,KAAyB,EAAE,QAAgB,EAAE,SAAiB,EAAQ,EAAE;EACxG,IAAI,KAAK,KAAK,SAAS,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;IACtD,aAAa,CAAC,IAAI,SAAS,WAAW,QAAQ,qDAAqD,CAAC,CAAA;GACpG;AACF,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,WAAmB,EAAE,IAAY,EAAE,SAAiB,EAAW,EAAE;EAChG,IAAI,OAAO,WAAW,KAAK,WAAW,IAAI,WAAW,KAAK,SAAS,EAAE;IACpE,OAAO,IAAI,CAAA;GACX;EACD,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;IACrC,aAAa,CAAC,IAAI,SAAS,iBAAiB,IAAI,mCAAmC,CAAC,CAAA;IACpF,OAAO,KAAK,CAAA;GACZ;EACD,IAAI,OAAO,GAAG,EAAE,CAAA;EAChB,MAAM,YAAY,GAAG,iBAAiB,CAAC,WAAW,CAAC,CAAA;EACnD,IAAI,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;IAChC,OAAO,GAAG,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC;MACxC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,CAAA;IAC3B,CAAC,CAAC,CAAA;GACF;EAED,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE;IACrC,IAAI,YAAY,EAAE,CAAC,cAAc,CAAC,WAAW,CAAC,KAAK,IAAI,EAAE;MACxD,yGAAyG;MACzG,OAAO,KAAK,CAAA;KACZ;SAAM;MACN,OAAO,IAAI,CAAA;KACX;EACF,CAAC,CAAC,CAAC,MAAM,CAAA;AACV,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,oBAAoB,GAAG,CAAC,OAAe,EAAE,UAA8B,EAAE,SAAiB,EAAW,EAAE;EACnH,MAAM,OAAO,GAAG,YAAY,EAAE,CAAC,aAAa,CAAC,QAAQ,OAAO,GAAG,CAAC,CAAA;EAChE,IAAI,OAAO,KAAK,IAAI,EAAE;IACrB,MAAM,YAAY,GAAG,YAAY,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC,CAAA;IAC9D,IAAI,YAAY,KAAK,IAAI,EAAE;MAC1B,aAAa,CAAC,IAAI,SAAS,8EAA8E,CAAC,CAAA;MAC1G,OAAO,KAAK,CAAA;KACZ;GACD;EACD,OAAO,IAAI,CAAA;AACZ,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,KAAyB,EAAE,UAA8B,EAAE,SAAiB,EAAW,EAAE;EAC1H,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;IAClD,OAAO,IAAI,CAAA;GACX;EACD,IAAI,OAAO,UAAU,KAAK,QAAQ,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;IAC5D,MAAM,YAAY,GAAG,YAAY,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC,CAAA;IAC9D,IAAI,YAAY,EAAE;MACjB,OAAO,IAAI,CAAA;KACX;GACD;EACD,aAAa,CAAC,IAAI,SAAS,yEAAyE,CAAC,CAAA;EACrG,OAAO,KAAK,CAAA;AACb,CAAC,CAAA","sourcesContent":["import { govWarningLog } from '../Log/gov.log'\nimport { splitByWhitespace } from '../../utils/string.utils'\nimport { documentNode } from '../Dom/win'\n\nexport const validateWcagProp = (value: string | undefined, propName: string, component: string): void => {\n\tif (value === undefined || String(value).length === 0) {\n\t\tgovWarningLog(`[${component}]: The (${propName}) attribute is important for correct accessibility.`)\n\t}\n}\n\nexport const validateWcagRef = (referenceId: string, name: string, component: string): boolean => {\n\tif (typeof referenceId === 'undefined' || referenceId === undefined) {\n\t\treturn true\n\t}\n\tif (String(referenceId).length === 0) {\n\t\tgovWarningLog(`[${component}]: Attribute (${name}) is defined with an empty value.`)\n\t\treturn false\n\t}\n\tlet strings = []\n\tconst referenceIds = splitByWhitespace(referenceId)\n\tif (Array.isArray(referenceIds)) {\n\t\tstrings = referenceIds.filter(function (e) {\n\t\t\treturn e.trim().length > 0\n\t\t})\n\t}\n\n\treturn !!strings.filter(referenceId => {\n\t\tif (documentNode().getElementById(referenceId) === null) {\n\t\t\t//govWarningLog(`[${component}][${name}]: Reference to element with id (${referenceId}) does not exist.`)\n\t\t\treturn false\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}).length\n}\n\nexport const validateWcagLabelFor = (inputId: string, labelledBy: string | undefined, component: string): boolean => {\n\tconst labelEl = documentNode().querySelector(`[for=${inputId}]`)\n\tif (labelEl === null) {\n\t\tconst labelledByEl = documentNode().getElementById(labelledBy)\n\t\tif (labelledByEl === null) {\n\t\t\tgovWarningLog(`[${component}]: The form element has no defined wcag-label or wcag-labelled-by attribute.`)\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport const validateWcagLabel = (label: string | undefined, labelledBy: string | undefined, component: string): boolean => {\n\tif (typeof label === 'string' && label.length > 0) {\n\t\treturn true\n\t}\n\tif (typeof labelledBy === 'string' && labelledBy.length > 0) {\n\t\tconst labelledByEl = documentNode().getElementById(labelledBy)\n\t\tif (labelledByEl) {\n\t\t\treturn true\n\t\t}\n\t}\n\tgovWarningLog(`[${component}]: The element has no defined wcag-label or wcag-labelled-by attribute.`)\n\treturn false\n}\n"]}